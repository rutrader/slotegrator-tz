## ProductService

Я решил создать отдельный класс (**ProductService**) для работы с продуктом. 
Класс **Product** отвечает исключительно за информацию о продукте. Вся основная работа с созданием/изменением/удалением должна производиться в **ProductService**. 

В данном случае, я попытался использовать принцип *Single Responsibility Principle*, чтобы каждый класс отвечал за определенный тип действий. 
	 
	 
| Метод | Описание |
|--|--|
| `__constuct()` | В конструктор я передаю класс-репозиторий для получения `Product` из БД и `StorageService` |
| `getProduct()` | Метод возвращает информацию о продукте по `ID` |
| `updateProductImage()` |  Метод обновляет ссылки  с помощью `StorageService::updateImageUrls()`. После этого новый массив ссылок записывает данные в БД |
| `deleteProduct()` | удаление продукта из БД |
| `makeFavorite()` | для добавление в список избранных |
|  |  |

## StorageService: класс для работы с хранилищами

| Метод | Описание |
|--|--|
| `__constuct()` | В конструктор я передаю оба класса для работы с изображениями |
| `getImageUrls()` | Исходя из ТЗ, некоторые изображения будут храниться локально, а некоторые на AWS. Поэтому я сначала работаю с `AwsStorageInterface::getUrl()`, а затем с `FileStorageInterface::getUrl()`. Метод возвращает массив доступных URL. |
| `updateImageUrls()` | Метод проверяет, есть ли нужное изображение в массиве изображений продукта. Если имя файла уже было записано в поле, то нам нужно удалить его либо с AWS, либо с нашего сервера. После этого мы сохраняем новое изображение в AWS. |
|  |  |

## Интерфейсы

| Интерфейс | Описание |
|--|--|
| `FileStorageInterface`  | интерфейс для `FileStorageRepository`, для гибкости работы с этим типом хранения. |
|  |  |
	
## Имплементации

|  |  |
|--|--|
| `AwsUrl` | Класс для `AwsUrlInterface` |
| `AwsStorageRepository` | Класс для  `AwsStorageInterface` |
|  |  |


## Прочее

| Класс | Описание |
|--|--|
| `Category` | отдельная сущность, в которой я бы хранил информацию о категориях `Product` |
| `ProductRepository` | для работы с `Product` на уровне ORM |
| `User` | Вспомогательный класс для выборки продуктов для пользователя (если авторизован) или для гостя |
|  |  |
